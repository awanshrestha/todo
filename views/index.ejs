<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Pacifico|Public+Sans&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="/css/style.css">
    <title>To Do</title>
</head>
<body>
    <h1 class="top-heading">To Do:</h1>
    <div class="grid-container">
        <div class="left">
            <h3>Category</h3>

            <%Array.from(results).forEach(function(result){%>
                <a href="/<%=result.name%>" ><h3 class="myButton"><%=result.name%></h3></a> <br>
            <%});%>

           
            <i id="shower" class="fa fa-plus-circle plus" ></i>
        </div>
        <div class="vl"></div>
        <div class="right">

                <span class="heading">
                        <h2><%=title%></h2>
                        <form action="deleteList" method="post">
                                <input type="hidden" name = "id" value="<%=id%>">
                                <button type="submit" style="background:none;border:none;padding:0;">
                                        <i class="fa fa-trash plus green" ></i>
                                </button>
                                
                        </form>
                        
                </span>
            
            <%tasks.forEach(function(task){%>

                <form action="/deleteTask" method="post">
                    <input type="hidden" name="listName" value="<%=title%>">
                    <input type="checkbox" name="checkbox" value="<%=task._id%>" id="<%=task._id%>" onchange="this.form.submit()">
                     <label for="<%=task._id%>"><%=task.name%></label>
                    <br> <br>
                </form>
            <%});%>
            
            <form action="/" method="post">
                    <input type="text" name="newtask" id="addtask" placeholder=" Add new task" required> 
                    <button type="submit" name = "list" value="<%=title%>">Add Task</button>
                </form>
        </div>
    </div>
    <div id="toShow" class="add-topic" style="display: none;" >
        <div class="box">
                <form action="/addCategory" method="post">
                        <input type="text" name="newTopic" id="textfield" placeholder="Add new topic" value="" required> 
                        <input type="submit" value="Add">
                    </form>
        </div>
    </div>

    <script>
        document.getElementById('shower').addEventListener("click",function(event){
            show();
        });
        function show(){
            document.getElementById("toShow").style.display= "block";
            var input = document.getElementById("textfield");
            input.select();
        }
        var inputs = document.getElementById("addtask");
            inputs.select();
    </script>
</body>
</html>